<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>wangEditor</title>
    <link rel="stylesheet" type="text/css" href="../../node_modules/wangeditor/dist/css/wangEditor.min.css">
    <style type="text/css">
        #div1 {
            width: 100%;
            height: 500px;
        }
    </style>
</head>
<body>
<div id="div4">
    <p>请输入内容...</p>
    <p>wangeditor2使用官网(https://www.kancloud.cn/wangfupeng/wangeditor2/113961)</p>
</div>
<!--<script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>-->
<script type="text/javascript" src="../../node_modules/jquery/dist/jquery.js"></script>
<script type="text/javascript" src="../../node_modules/wangeditor/dist/js/wangEditor.js"></script>
<script type="text/javascript">
    $(function () {
        var ruleEditor = new wangEditor('div4');

        ruleEditor.config.uploadImgUrl = 'yunFile';

        ruleEditor.config.uploadImgFileName = 'file';

        ruleEditor.config.zindex = 200000000;

        // 自定义load事件
        ruleEditor.config.uploadImgFns.onload = function (resultText, xhr) {
            // resultText 服务器端返回的text
            // xhr 是 xmlHttpRequest 对象，IE8、9中不支持
            console.log('resultText', resultText);
            console.log('xhr', xhr);
            //将resultText转成json
            var jsonValue = eval("(" + resultText + ")");

        };
        // 自定义timeout事件
        ruleEditor.config.uploadImgFns.ontimeout = function (xhr) {
            // xhr 是 xmlHttpRequest 对象，IE8、9中不支持
            alert('上传超时');
        };

        // 自定义error事件
        ruleEditor.config.uploadImgFns.onerror = function (xhr) {
            // xhr 是 xmlHttpRequest 对象，IE8、9中不支持
            alert('上传错误');
        };


        ruleEditor.create();
    });
</script>
</body>
</html>